<script setup>
import { useRouter } from "vue-router";

const router = useRouter();

import { useUserStore } from "@/modules";

import { useRegistrationStore } from "./useRegistrationStore";
const userStore = useUserStore();

const registrationStore = useRegistrationStore();
const finishRegistration = () => {
    registrationStore.applyToken();
    userStore.role("dephead");
    router.push({ name: "summary" });
};
</script>

<template>
    <div class="registration-finish">
        <div class="finish-icon">üéâ</div>

        <NH2>–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç–∞!</NH2>

        <NText class="finish-text">
            –í—ã –º–æ–∂–µ—Ç–µ —Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–Ω—ã—Ö –∫ –≤–∞—à–µ–º—É
            –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç—É.
        </NText>

        <NButton
            class="finish-button"
            type="primary"
            block
            @click="finishRegistration"
        >
            –ü—Ä–∏—Å—Ç—É–ø–∏—Ç—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—é
        </NButton>
    </div>
</template>

<style scoped lang="scss">
.registration-finish {
    display: flex;

    flex-direction: column;

    height: 100%;
}

.finish-button {
    margin-top: auto;
    margin-bottom: 8px;
}

.finish-icon {
    margin-bottom: 32px;

    font-size: 108px;
    text-align: center;
}

.finish-text {
    margin-top: 12px;

    font-size: 16px;
    line-height: 24px;
}

.grid-2 {
    display: grid;

    grid-template-columns: 1fr 1fr;

    gap: 12px;
}
</style>
